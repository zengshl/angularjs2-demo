"use strict";
var helper_constants_1 = require("./helper-constants");
var gen_randombytes_1 = require("./gen-randombytes");
function createUUID() {
    var data = gen_randombytes_1.genRandomBytes(helper_constants_1.UUID_SIZE);
    // mark as random - RFC 4122 ยง 4.4
    data[6] = data[6] & 0x4f | 0x40;
    data[8] = data[8] & 0xbf | 0x80;
    var result = "";
    for (var offset = 0; offset < helper_constants_1.UUID_SIZE; ++offset) {
        var byte = data[offset];
        if (offset === 4 || offset === 6 || offset === 8) {
            result += "-";
        }
        if (byte < 16) {
            result += "0";
        }
        result += byte.toString(16).toLowerCase();
    }
    return result;
}
exports.createUUID = createUUID;
//# sourceMappingURL=create-uuid.js.map